<?php

/** @var \Illuminate\Database\Eloquent\Factory $factory */

use App\User;
use App\TimeSheet;
use App\CustomerID;
use App\CustomerPID;
use App\Http\Controllers\TimeSheetController;

use Faker\Generator as Faker;
use Carbon\Carbon;
use Illuminate\Support\Str;
use Illuminate\Support\Facades\DB;


/*
|--------------------------------------------------------------------------
| Model Factories
|--------------------------------------------------------------------------
|
| This directory should contain each of the model factory definitions for
| your application. Factories provide a convenient way to generate new
| model instances for testing / seeding your application's database.
|
*/

$factory->define(TimeSheet::class, function (Faker $faker) {

    $customerID = CustomerID::pluck('id')->toArray();
    $customerPID = CustomerPID::pluck('id')->toArray();
    $userID = User::pluck('id')->toArray();
    $activity = [
        'PreKickOff Meeting SIG',
        'Discuss Presentasi Kick Off Meeting SIG',
        'Grab Report PLN Security',
        'Internal Meeting Teknis BTN Sangfor IAM',
        'Membuat Presentasi KickOff Meeting SIG',
        'Mengirim Report PLN Security',
        'Update Project List',
        'Update Report IDX',
        'Membantu Revisi Presentasi SIG',
        'Check EOS dan EOL perangkat Forcepoint BSB',
        'Update report IDX',
        'Mengirim daftar URL List yang sudah disortir ke BSB',
        'Membantu revisi presentasi SIG',
        'Kick Off Meeting BTN Bandwidth Management',
        'Webinar Palo Alto',
        'Koordinasi Jadwal PM BSB Forcepoint',
        'Preventive BSB September',
        'PreKickoff Meeting SIG Firewall',
        'Membantu Konfigurasi URL Forcepoint BSB',
        'Present SD-WAN pitching Fortinet',
        'Mengerjakan Report BSB',
        'Update Report BSB Forcepoint',
        'Membantu tunning URL BSB Forcepoint',
        'Kick Off Meeting Firewall ICT SIG',
        'Meeting Inject License Taspen Fortimail',
        'Membantu Troubleshoot SIG Firewall ICT 2021',
        'Memperlajari ADVPN Fortigate',
        'Update report IDX dan Bulog',
        'Followup Report BSB Forcepoint'
    ];
    $site = ['WFO','WFH','On-Site'];
    $duration = ['1 Hari / Lebih','7 Jam','6 Jam','5 Jam','4 Jam','3 Jam','2 Jam','1 Jam','30 Menit','15 Menit'];
    $status = ['Done','Pending','On Progress','Cancel'];
    $execute_at = ["2021-01-04",
        "2021-01-05",
        "2021-01-06",
        "2021-01-07",
        "2021-01-08",
        "2021-01-11",
        "2021-01-12",
        "2021-01-13",
        "2021-01-14",
        "2021-01-15",
        "2021-01-18",
        "2021-01-19",
        "2021-01-20",
        "2021-01-21",
        "2021-01-22",
        "2021-01-25",
        "2021-01-26",
        "2021-01-27",
        "2021-01-28",
        "2021-01-29",
        "2021-02-01",
        "2021-02-02",
        "2021-02-03",
        "2021-02-04",
        "2021-02-05",
        "2021-02-08",
        "2021-02-09",
        "2021-02-10",
        "2021-02-11",
        "2021-02-15",
        "2021-02-16",
        "2021-02-17",
        "2021-02-18",
        "2021-02-19",
        "2021-02-22",
        "2021-02-23",
        "2021-02-24",
        "2021-02-25",
        "2021-02-26",
        "2021-03-01",
        "2021-03-02",
        "2021-03-03",
        "2021-03-04",
        "2021-03-05",
        "2021-03-08",
        "2021-03-09",
        "2021-03-10",
        "2021-03-15",
        "2021-03-16",
        "2021-03-17",
        "2021-03-18",
        "2021-03-19",
        "2021-03-22",
        "2021-03-23",
        "2021-03-24",
        "2021-03-25",
        "2021-03-26",
        "2021-03-29",
        "2021-03-30",
        "2021-03-31",
        "2021-04-01",
        "2021-04-05",
        "2021-04-06",
        "2021-04-07",
        "2021-04-08",
        "2021-04-09",
        "2021-04-12",
        "2021-04-13",
        "2021-04-14",
        "2021-04-15",
        "2021-04-16",
        "2021-04-19",
        "2021-04-20",
        "2021-04-22",
        "2021-04-23",
        "2021-04-26",
        "2021-04-27",
        "2021-04-28",
        "2021-04-29",
        "2021-04-30",
        "2021-05-03",
        "2021-05-04",
        "2021-05-05",
        "2021-05-06",
        "2021-05-07",
        "2021-05-10",
        "2021-05-11",
        "2021-05-20",
        "2021-05-21",
        "2021-05-24",
        "2021-05-25",
        "2021-05-27",
        "2021-05-28",
        "2021-05-31",
        "2021-06-02",
        "2021-06-03",
        "2021-06-04",
        "2021-06-07",
        "2021-06-08",
        "2021-06-09",
        "2021-06-10",
        "2021-06-11",
        "2021-06-14",
        "2021-06-15",
        "2021-06-16",
        "2021-06-17",
        "2021-06-18",
        "2021-06-21",
        "2021-06-22",
        "2021-06-23",
        "2021-06-24",
        "2021-06-25",
        "2021-06-28",
        "2021-06-29",
        "2021-06-30",
        "2021-07-01",
        "2021-07-02",
        "2021-07-05",
        "2021-07-06",
        "2021-07-07",
        "2021-07-08",
        "2021-07-09",
        "2021-07-12",
        "2021-07-13",
        "2021-07-14",
        "2021-07-15",
        "2021-07-16",
        "2021-07-19",
        "2021-07-21",
        "2021-07-22",
        "2021-07-23",
        "2021-07-26",
        "2021-07-27",
        "2021-07-28",
        "2021-07-29",
        "2021-07-30",
        "2021-08-02",
        "2021-08-03",
        "2021-08-04",
        "2021-08-05",
        "2021-08-06",
        "2021-08-09",
        "2021-08-12",
        "2021-08-13",
        "2021-08-16",
        "2021-08-18",
        "2021-08-19",
        "2021-08-20",
        "2021-08-23",
        "2021-08-24",
        "2021-08-25",
        "2021-08-26",
        "2021-08-27",
        "2021-08-30",
        "2021-08-31",
        "2021-09-01",
        "2021-09-02",
        "2021-09-03",
        "2021-09-06",
        "2021-09-07",
        "2021-09-08",
        "2021-09-09",
        "2021-09-10",
        "2021-09-13",
        "2021-09-14",
        "2021-09-15",
        "2021-09-16",
        "2021-09-17",
        "2021-09-20",
        "2021-09-21",
        "2021-09-22",
        "2021-09-23",
        "2021-09-24",
        "2021-09-27",
        "2021-09-28",
        "2021-09-29",
        "2021-09-30",
        "2021-10-01",
        "2021-10-04",
        "2021-10-05",
        "2021-10-06",
        "2021-10-07",
        "2021-10-08",
        "2021-10-11",
        "2021-10-12",
        "2021-10-13",
        "2021-10-14",
        "2021-10-15",
        "2021-10-18",
        "2021-10-21",
        "2021-10-22",
        "2021-10-25",
        "2021-10-26",
        "2021-10-27",
        "2021-10-28",
        "2021-10-29",
        "2021-11-01",
        "2021-11-02",
        "2021-11-03",
        "2021-11-05",
        "2021-11-08",
        "2021-11-09",
        "2021-11-10",
        "2021-11-11",
        "2021-11-15",
        "2021-11-16",
        "2021-11-17",
        "2021-11-18",
        "2021-11-19",
        "2021-11-22",
        "2021-11-23",
        "2021-11-24",
        "2021-11-26",
        "2021-11-29",
        "2021-11-30",
        "2021-12-01",
        "2021-12-02",
        "2021-12-03",
        "2021-12-06",
        "2021-12-07",
        "2021-12-08",
        "2021-12-09",
        "2021-12-10",
        "2021-12-13",
        "2021-12-14",
        "2021-12-15",
        "2021-12-16",
        "2021-12-17",
        "2021-12-20",
        "2021-12-21",
        "2021-12-23",
        "2021-12-28",
        "2021-12-29"
    ];

    $randomTime = $execute_at[array_rand($execute_at)];
    $randomDuration = $duration[array_rand($duration)];
    $timeSheetController = new TimeSheetController();

    return [
        'id_customer' => $customerID[array_rand($customerID)],
        'id_pid' => $customerPID[array_rand($customerPID)],
        // 'id_user' => $userID[array_rand($userID)],
        'id_user' => 9,
        'activity' => $activity[array_rand($activity)],
        'site' => $site[array_rand($site)],
        'duration' => $randomDuration,
        'duration_num' => $timeSheetController->choseDurationNum($randomDuration),
        'status' => $status[array_rand($status)],
        'approved' => "Approved",
        'submited' => "Submited",
        'submited_at' => $randomTime . " 17:00:00",
        'execute_at' => $randomTime . " 09:00:00",
        'approve_at' => $randomTime . " 17:30:00",
    ];
});
